Hadoop021-HDFS
==============

基于Hadoop0.21版本的HDFS功能扩展：
  新增保证读写带宽的读写扩展接口。
  新增实时获取及更新当前写入文件实际大小（实际Datanode已验证存储的大小）的接口。
  新增基于读写流量实时负载的的公平调度扩展。
   

应用场景：
  视频云转码环境下，对于不同码率的视频有不同的读写带宽要求，比如4M的标清视频和8M的高清视频。
  需要DataNode能够给不同的码率的视频分配不同的带宽。
  需要NameNode能够根据带宽要求优化返回的DataNodeList给读写客户端。

设计思路：
  读写客户端请求文件读写时，附加带宽参数。
  NameNode端根据此带宽参数，返回满足带宽条件的DataNodeList。
  DataNode根据此带宽参数，使用读写速率控制器控制其文件的读写速度。
  DataNode附加读写负载参数信息在MBean中并上报实时负载信息到NameNode中。
  NameNode维护各个DataNode的文件请求和实时带宽负载信息，基于此调度。


应用：
  在公司的云转码系统中，已经成功应用。
  在高负载的情况下能保证转码服务的高可用性和可监控性。


